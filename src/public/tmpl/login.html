<div class="modal-common modal-login">
    <div class="modal-header">
        <button type="button" class="close" ng-click="$dismiss()">×</button>
        <h3 class="modal-title  clearfix">{{'cn.auth.accoutLogin'|translate}}</h3>
    </div>
    <div class="modal-body login-form">
        <form name="loginForm" class="sign-box" ng-submit="submitForm(loginForm.$valid)" novalidate>
            <div class="logo"></div>
            <fieldset>
                <div class="control-group" ng-class="{'focus':namefocus}">
                    <input class="form-controls" ng-focus="namefocus=true;loginCfmed=false" ng-blur="namefocus=false" autocomplete="off" type="text" name="username" id="input_username" ng-model="login.username" placeholder="{{'cn.auth.inputusername'|translate}}" required />
                    <label class="control-label" ng-class="{'focused':focused}">
                        <i class="icon-aw-user"></i>
                    </label>
                    <div class="error-messages" ng-if="interacted(loginForm.username)" ng-messages="loginForm.username.$error">
                        <div ng-message="required">{{'cn.auth.inputusername'|translate}}</div>
                    </div>
                </div>
                <div class="control-group" ng-class="{'focus':passwordfocus}">
                    <input class="form-controls" ng-focus="passwordfocus=true;loginCfmed=false" ng-blur="passwordfocus=false" type="password" name="password" id="input_password" ng-model="login.password" autocomplete="new-password" placeholder="{{'cn.auth.inputpasswd'|translate}}" required />
                    <label class="control-label" ng-class="{'focused':focused}">
                        <i class="icon-aw-turn-off"></i>
                    </label>
                    <div class="error-messages" ng-if="interacted(loginForm.password)" ng-messages="loginForm.password.$error">
                        <div ng-message="required">{{'cn.auth.inputpasswd'|translate}}</div>
                    </div>
                </div>
                <div class="control-group" ng-class="{'focus':verificationCode}">
                    <div class="code-img-box">
                        <input class="form-controls"  ng-focus="verificationCode=true;loginCfmed=false" ng-blur="verificationCode=false" autocomplete="off" type="text" name="code" ng-model="login.verificationCode" placeholder="{{'cn.auth.vercode'|translate}}" required />
                        <span><img id="codeImg" ng-src="{{imgUrl}}"></span> 
                        <span class="text" ng-click="getVerificationCode(loginForm)">换一张</span> 
                    </div>
                    <div class="error-messages" ng-if="interacted(loginForm.code)" ng-messages="loginForm.code.$error">
                        <div ng-message="required">{{'cn.auth.vercode'|translate}}</div>
                    </div>
                </div>
                <div class="btn-item">
                    <button type="submit" class="btn btn-primary" ng-disabled="logining">{{'cn.auth.login'|translate}}<span ng-show="logining"><i class="icon-aw-load aw-spin"></i></span></button>
                </div>
                <div class="signuperror" ng-show="loginError>0">
                    <div ng-if="loginError===1 && loginCfmed">
                        {{'cn.auth.loginFiled'|translate}}
                    </div>
                    <div ng-if="loginError===2 && loginCfmed">
                        {{'cn.auth.userorpasswderror'|translate}}
                    </div>
                    <div ng-if="loginError===3 && loginCfmed">
                        {{'cn.auth.codeError'|translate}}
                    </div>
                    <div ng-if="loginError===4 && loginCfmed">
                        {{'cn.auth.codeInvalid'|translate}}
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
</div>
